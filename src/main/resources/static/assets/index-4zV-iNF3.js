import{r as f,H as _,Z as Ie,p as D,Q as ke,v as X,s as ze,t as ie,a1 as Ve,J as ae,y as le,an as Ee,ao as Le,ap as Be,aq as Me}from"./index-vPyaWLeP.js";import{T as De}from"./index-_WMGC53t.js";import{u as Xe}from"./useMergedState-BlXbDCcH.js";import{C as He}from"./ContextIsolator-CJOux_3c.js";import{g as We}from"./Portal-BctSke4q.js";import{P as U,i as Ye,c as qe}from"./button-DbuczX__.js";import"./index-CZJbkbXl.js";import"./useId-CRRn3EMz.js";import{i as Fe}from"./zoom-6OtM0EU7.js";function Ze(t,o){return U.reduce((r,e)=>{const n=t[`${e}1`],s=t[`${e}3`],a=t[`${e}6`],i=t[`${e}7`];return Object.assign(Object.assign({},r),o(e,{lightColor:n,lightBorderColor:s,darkColor:a,textColor:i}))},{})}function ce(t){var o=t.children,r=t.prefixCls,e=t.id,n=t.overlayInnerStyle,s=t.bodyClassName,a=t.className,i=t.style;return f.createElement("div",{className:_("".concat(r,"-content"),a),style:i},f.createElement("div",{className:_("".concat(r,"-inner"),s),id:e,role:"tooltip",style:n},typeof o=="function"?o():o))}var V={shiftX:64,adjustY:1},E={adjustX:1,shiftY:!0},w=[0,0],Ue={left:{points:["cr","cl"],overflow:E,offset:[-4,0],targetOffset:w},right:{points:["cl","cr"],overflow:E,offset:[4,0],targetOffset:w},top:{points:["bc","tc"],overflow:V,offset:[0,-4],targetOffset:w},bottom:{points:["tc","bc"],overflow:V,offset:[0,4],targetOffset:w},topLeft:{points:["bl","tl"],overflow:V,offset:[0,-4],targetOffset:w},leftTop:{points:["tr","tl"],overflow:E,offset:[-4,0],targetOffset:w},topRight:{points:["br","tr"],overflow:V,offset:[0,-4],targetOffset:w},rightTop:{points:["tl","tr"],overflow:E,offset:[4,0],targetOffset:w},bottomRight:{points:["tr","br"],overflow:V,offset:[0,4],targetOffset:w},rightBottom:{points:["bl","br"],overflow:E,offset:[4,0],targetOffset:w},bottomLeft:{points:["tl","bl"],overflow:V,offset:[0,4],targetOffset:w},leftBottom:{points:["br","bl"],overflow:E,offset:[-4,0],targetOffset:w}},Je=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Qe=function(o,r){var e=o.overlayClassName,n=o.trigger,s=n===void 0?["hover"]:n,a=o.mouseEnterDelay,i=a===void 0?0:a,l=o.mouseLeaveDelay,u=l===void 0?.1:l,b=o.overlayStyle,c=o.prefixCls,p=c===void 0?"rc-tooltip":c,h=o.children,y=o.onVisibleChange,C=o.afterVisibleChange,P=o.transitionName,v=o.animation,m=o.motion,O=o.placement,S=O===void 0?"right":O,T=o.align,J=T===void 0?{}:T,L=o.destroyTooltipOnHide,N=L===void 0?!1:L,Q=o.defaultVisible,H=o.getTooltipContainer,G=o.overlayInnerStyle;o.arrowContent;var d=o.overlay,K=o.id,R=o.showArrow,W=R===void 0?!0:R,$=o.classNames,x=o.styles,B=Ie(o,Je),Y=f.useRef(null);f.useImperativeHandle(r,function(){return Y.current});var q=D({},B);"visible"in o&&(q.popupVisible=o.visible);var M=function(){return f.createElement(ce,{key:"content",prefixCls:p,id:K,bodyClassName:$==null?void 0:$.body,overlayInnerStyle:D(D({},G),x==null?void 0:x.body)},d)};return f.createElement(De,ke({popupClassName:_(e,$==null?void 0:$.root),prefixCls:p,popup:M,action:s,builtinPlacements:Ue,popupPlacement:S,ref:Y,popupAlign:J,getPopupContainer:H,onPopupVisibleChange:y,afterPopupVisibleChange:C,popupTransitionName:P,popupAnimation:v,popupMotion:m,defaultPopupVisible:Q,autoDestroy:N,mouseLeaveDelay:u,popupStyle:D(D({},b),x==null?void 0:x.root),mouseEnterDelay:i,arrow:W},q),h)};const Ge=f.forwardRef(Qe);function Ke(t){const{sizePopupArrow:o,borderRadiusXS:r,borderRadiusOuter:e}=t,n=o/2,s=0,a=n,i=e*1/Math.sqrt(2),l=n-e*(1-1/Math.sqrt(2)),u=n-r*(1/Math.sqrt(2)),b=e*(Math.sqrt(2)-1)+r*(1/Math.sqrt(2)),c=2*n-u,p=b,h=2*n-i,y=l,C=2*n-s,P=a,v=n*Math.sqrt(2)+e*(Math.sqrt(2)-2),m=e*(Math.sqrt(2)-1),O=`polygon(${m}px 100%, 50% ${m}px, ${2*n-m}px 100%, ${m}px 100%)`,S=`path('M ${s} ${a} A ${e} ${e} 0 0 0 ${i} ${l} L ${u} ${b} A ${r} ${r} 0 0 1 ${c} ${p} L ${h} ${y} A ${e} ${e} 0 0 0 ${C} ${P} Z')`;return{arrowShadowWidth:v,arrowPath:S,arrowPolygon:O}}const et=(t,o,r)=>{const{sizePopupArrow:e,arrowPolygon:n,arrowPath:s,arrowShadowWidth:a,borderRadiusXS:i,calc:l}=t;return{pointerEvents:"none",width:e,height:e,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:l(e).div(2).equal(),background:o,clipPath:{_multi_value_:!0,value:[n,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${X(i)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"}}},fe=8;function de(t){const{contentRadius:o,limitVerticalRadius:r}=t,e=o>12?o+2:12;return{arrowOffsetHorizontal:e,arrowOffsetVertical:r?fe:e}}function Z(t,o){return t?o:{}}function tt(t,o,r){const{componentCls:e,boxShadowPopoverArrow:n,arrowOffsetVertical:s,arrowOffsetHorizontal:a}=t,{arrowDistance:i=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=r||{};return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({[`${e}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},et(t,o,n)),{"&:before":{background:o}})]},Z(!!l.top,{[[`&-placement-top > ${e}-arrow`,`&-placement-topLeft > ${e}-arrow`,`&-placement-topRight > ${e}-arrow`].join(",")]:{bottom:i,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${e}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${X(a)})`,[`> ${e}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Z(!!l.bottom,{[[`&-placement-bottom > ${e}-arrow`,`&-placement-bottomLeft > ${e}-arrow`,`&-placement-bottomRight > ${e}-arrow`].join(",")]:{top:i,transform:"translateY(-100%)"},[`&-placement-bottom > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${e}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${X(a)})`,[`> ${e}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Z(!!l.left,{[[`&-placement-left > ${e}-arrow`,`&-placement-leftTop > ${e}-arrow`,`&-placement-leftBottom > ${e}-arrow`].join(",")]:{right:{_skip_check_:!0,value:i},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${e}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${e}-arrow`]:{top:s},[`&-placement-leftBottom > ${e}-arrow`]:{bottom:s}})),Z(!!l.right,{[[`&-placement-right > ${e}-arrow`,`&-placement-rightTop > ${e}-arrow`,`&-placement-rightBottom > ${e}-arrow`].join(",")]:{left:{_skip_check_:!0,value:i},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${e}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${e}-arrow`]:{top:s},[`&-placement-rightBottom > ${e}-arrow`]:{bottom:s}}))}}function ot(t,o,r,e){if(e===!1)return{adjustX:!1,adjustY:!1};const n=e&&typeof e=="object"?e:{},s={};switch(t){case"top":case"bottom":s.shiftX=o.arrowOffsetHorizontal*2+r,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=o.arrowOffsetVertical*2+r,s.shiftX=!0,s.adjustX=!0;break}const a=Object.assign(Object.assign({},s),n);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const se={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},nt={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},rt=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function at(t){const{arrowWidth:o,autoAdjustOverflow:r,arrowPointAtCenter:e,offset:n,borderRadius:s,visibleFirst:a}=t,i=o/2,l={};return Object.keys(se).forEach(u=>{const b=e&&nt[u]||se[u],c=Object.assign(Object.assign({},b),{offset:[0,0],dynamicInset:!0});switch(l[u]=c,rt.has(u)&&(c.autoArrow=!1),u){case"top":case"topLeft":case"topRight":c.offset[1]=-i-n;break;case"bottom":case"bottomLeft":case"bottomRight":c.offset[1]=i+n;break;case"left":case"leftTop":case"leftBottom":c.offset[0]=-i-n;break;case"right":case"rightTop":case"rightBottom":c.offset[0]=i+n;break}const p=de({contentRadius:s,limitVerticalRadius:!0});if(e)switch(u){case"topLeft":case"bottomLeft":c.offset[0]=-p.arrowOffsetHorizontal-i;break;case"topRight":case"bottomRight":c.offset[0]=p.arrowOffsetHorizontal+i;break;case"leftTop":case"rightTop":c.offset[1]=-p.arrowOffsetHorizontal*2+i;break;case"leftBottom":case"rightBottom":c.offset[1]=p.arrowOffsetHorizontal*2-i;break}c.overflow=ot(u,p,o,r),a&&(c.htmlRegion="visibleFirst")}),l}const st=t=>{const{calc:o,componentCls:r,tooltipMaxWidth:e,tooltipColor:n,tooltipBg:s,tooltipBorderRadius:a,zIndexPopup:i,controlHeight:l,boxShadowSecondary:u,paddingSM:b,paddingXS:c,arrowOffsetHorizontal:p,sizePopupArrow:h}=t,y=o(a).add(h).add(p).equal(),C=o(a).mul(2).add(h).equal();return[{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},Ve(t)),{position:"absolute",zIndex:i,display:"block",width:"max-content",maxWidth:e,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":s,[`${r}-inner`]:{minWidth:C,minHeight:l,padding:`${X(t.calc(b).div(2).equal())} ${X(c)}`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:s,borderRadius:a,boxShadow:u,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:y},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${r}-inner`]:{borderRadius:t.min(a,fe)}},[`${r}-content`]:{position:"relative"}}),Ze(t,(P,v)=>{let{darkColor:m}=v;return{[`&${r}-${P}`]:{[`${r}-inner`]:{backgroundColor:m},[`${r}-arrow`]:{"--antd-arrow-background-color":m}}}})),{"&-rtl":{direction:"rtl"}})},tt(t,"var(--antd-arrow-background-color)"),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},it=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},de({contentRadius:t.borderRadius,limitVerticalRadius:!0})),Ke(ie(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),ue=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ze("Tooltip",e=>{const{borderRadius:n,colorTextLightSolid:s,colorBgSpotlight:a}=e,i=ie(e,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:n,tooltipBg:a});return[st(i),Fe(e,"zoom-big-fast")]},it,{resetStyle:!1,injectStyle:o})(t)},lt=U.map(t=>`${t}-inverse`);function ct(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(ae(lt),ae(U)).includes(t):U.includes(t)}function pe(t,o){const r=ct(o),e=_({[`${t}-${o}`]:o&&r}),n={},s={};return o&&!r&&(n.background=o,s["--antd-arrow-background-color"]=o),{className:e,overlayStyle:n,arrowStyle:s}}const ft=t=>{const{prefixCls:o,className:r,placement:e="top",title:n,color:s,overlayInnerStyle:a}=t,{getPrefixCls:i}=f.useContext(le),l=i("tooltip",o),[u,b,c]=ue(l),p=pe(l,s),h=p.arrowStyle,y=Object.assign(Object.assign({},a),p.overlayStyle),C=_(b,c,l,`${l}-pure`,`${l}-placement-${e}`,r,p.className);return u(f.createElement("div",{className:C,style:h},f.createElement("div",{className:`${l}-arrow`}),f.createElement(ce,Object.assign({},t,{className:b,prefixCls:l,overlayInnerStyle:y}),n)))};var dt=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const ut=f.forwardRef((t,o)=>{var r,e,n,s,a,i;const{prefixCls:l,openClassName:u,getTooltipContainer:b,color:c,overlayInnerStyle:p,children:h,afterOpenChange:y,afterVisibleChange:C,destroyTooltipOnHide:P,arrow:v=!0,title:m,overlay:O,builtinPlacements:S,arrowPointAtCenter:T=!1,autoAdjustOverflow:J=!0}=t,L=!!v,[,N]=Ee(),{getPopupContainer:Q,getPrefixCls:H,direction:G,tooltip:d}=f.useContext(le),K=Me(),R=f.useRef(null),W=()=>{var g;(g=R.current)===null||g===void 0||g.forceAlign()};f.useImperativeHandle(o,()=>{var g;return{forceAlign:W,forcePopupAlign:()=>{K.deprecated(!1,"forcePopupAlign","forceAlign"),W()},nativeElement:(g=R.current)===null||g===void 0?void 0:g.nativeElement}});const[$,x]=Xe(!1,{value:(r=t.open)!==null&&r!==void 0?r:t.visible,defaultValue:(e=t.defaultOpen)!==null&&e!==void 0?e:t.defaultVisible}),B=!m&&!O&&m!==0,Y=g=>{var j,z;x(B?!1:g),B||((j=t.onOpenChange)===null||j===void 0||j.call(t,g),(z=t.onVisibleChange)===null||z===void 0||z.call(t,g))},q=f.useMemo(()=>{var g,j;let z=T;return typeof v=="object"&&(z=(j=(g=v.pointAtCenter)!==null&&g!==void 0?g:v.arrowPointAtCenter)!==null&&j!==void 0?j:T),S||at({arrowPointAtCenter:z,autoAdjustOverflow:J,arrowWidth:L?N.sizePopupArrow:0,borderRadius:N.borderRadius,offset:N.marginXXS,visibleFirst:!0})},[T,v,S,N]),M=f.useMemo(()=>m===0?m:O||m||"",[O,m]),ne=f.createElement(He,{space:!0},typeof M=="function"?M():M),{getPopupContainer:me,placement:ge="top",mouseEnterDelay:be=.1,mouseLeaveDelay:he=.1,overlayStyle:we,rootClassName:ye,overlayClassName:ve,styles:A,classNames:I}=t,re=dt(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),k=H("tooltip",l),Ce=H(),Oe=t["data-popover-inject"];let ee=$;!("open"in t)&&!("visible"in t)&&B&&(ee=!1);const te=f.isValidElement(h)&&!Ye(h)?h:f.createElement("span",null,h),F=te.props,$e=!F.className||typeof F.className=="string"?_(F.className,u||`${k}-open`):F.className,[xe,_e,Pe]=ue(k,!Oe),oe=pe(k,c),je=oe.arrowStyle,Se=_(ve,{[`${k}-rtl`]:G==="rtl"},oe.className,ye,_e,Pe,d==null?void 0:d.className,(n=d==null?void 0:d.classNames)===null||n===void 0?void 0:n.root,I==null?void 0:I.root),Te=_((s=d==null?void 0:d.classNames)===null||s===void 0?void 0:s.body,I==null?void 0:I.body),[Ne,Re]=Le("Tooltip",re.zIndex),Ae=f.createElement(Ge,Object.assign({},re,{zIndex:Ne,showArrow:L,placement:ge,mouseEnterDelay:be,mouseLeaveDelay:he,prefixCls:k,classNames:{root:Se,body:Te},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},je),(a=d==null?void 0:d.styles)===null||a===void 0?void 0:a.root),d==null?void 0:d.style),we),A==null?void 0:A.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},(i=d==null?void 0:d.styles)===null||i===void 0?void 0:i.body),p),A==null?void 0:A.body),oe.overlayStyle)},getTooltipContainer:me||b||Q,ref:R,builtinPlacements:q,overlay:ne,visible:ee,onVisibleChange:Y,afterVisibleChange:y??C,arrowContent:f.createElement("span",{className:`${k}-arrow-content`}),motion:{motionName:We(Ce,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!P}),ee?qe(te,{className:$e}):te);return xe(f.createElement(Be.Provider,{value:Re},Ae))}),pt=ut;pt._InternalPanelDoNotUseOrYouWillBeFired=ft;export{pt as T,de as a,Ke as b,at as c,et as d,tt as g};
