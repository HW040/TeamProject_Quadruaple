import{a as p,j as e,r,k as A,R as C,h as P,F,b as B}from"./index-vPyaWLeP.js";import{e as E,d as O}from"./index-Bq2mCWz2.js";import{a as z}from"./TitleHeader-DmOIGpGi.js";import{U}from"./UserIndex-Cl3tL1jd.js";import{S as g,a as N}from"./swiper-react-ufqZANpM.js";import{a as b,L as Y}from"./pic-Bp3CpqNF.js";import{a as y,b as I}from"./index-DFSdNWGh.js";import{R as H}from"./index-BknOe4VR.js";import{F as V}from"./Footer-BSL-Y36d.js";import{I as _}from"./index-D6yxsJgh.js";import"./index-C5zZlqw2.js";/* empty css                    */import"./useMergedState-BlXbDCcH.js";import"./index-4zV-iNF3.js";import"./index-_WMGC53t.js";import"./Portal-BctSke4q.js";import"./index-CZJbkbXl.js";import"./useSize-40MQQq3L.js";import"./useId-CRRn3EMz.js";import"./ContextIsolator-CJOux_3c.js";import"./context-UlFNglpC.js";import"./button-DbuczX__.js";import"./zoom-6OtM0EU7.js";import"./BaseInput-CdGcV17f.js";const M=({festivities:a})=>{const l=p();return e.jsx("div",{children:e.jsx(g,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:a.map(s=>e.jsxs(N,{className:"!h-[600px] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("img",{src:`${b}${s.strfId}/${s.strfPic}`,alt:s.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[s.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:s.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[s.startAt.replaceAll("-","."),"~",s.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:s.locationTitle})]})]},s.strfId))})})},D=({locations:a})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(g,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:a.map((l,s)=>e.jsxs(N,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:s+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${Y}${l.locationPic}`,alt:l.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:l.locationTitle})]})]})]},l.locationId))})]}),G=({recent:a,getMainList:l,setFestivities:s,setLocations:f,setRecent:w,setRecommend:h})=>{const u=p(),[o,j]=r.useState("STAY"),c={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},n=a.find(t=>t.category===o),x=async t=>{const d={strfId:t.strfId};console.log("찜하기 데이터:",d);try{const i=await axios.post("/api/wish-list",{...d},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",i.data),i.data.code==="200 성공"&&l()}catch(i){console.log("찜하기",i)}};return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:a.map(t=>e.jsx("button",{onClick:()=>j(t.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${o===t.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:c[t.category]},t.category))}),e.jsx("div",{className:" flex flex-wrap ",children:n==null?void 0:n.recent.slice(0,6).map(t=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{u(`/contents/index?strfId=${t.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${b}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>x(item),children:t.wishIn?e.jsx(y,{className:"text-secondary3 text-xl"}):e.jsx(I,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:t.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[t.locationName," · ",c[o]]}),e.jsx("div",{children:e.jsx(H,{disabled:!0,allowHalf:!0,defaultValue:t.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[t.wishIn?e.jsx(y,{className:"text-secondary3 text-xl"}):e.jsx(I,{className:"text-slate-400 text-xl"}),t.wishCnt]})]})]},t.strfId))})]})},W=({recommend:a})=>{const l=p();return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(g,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:a.map(s=>e.jsxs(N,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:s.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:s.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:s.explain}),e.jsxs(A,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(E,{className:"text-lg"})]})]}),e.jsx("img",{src:`${b}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},s.strfId))})]})},ge=()=>{const[a,l]=r.useState([]),[s,f]=r.useState([]),[w,h]=r.useState([]),[u,o]=r.useState([]),[j,c]=r.useState(!1),[n,x]=r.useState(0),t=async()=>{try{const m=await B.get("/api/home",{headers:{Authorization:`Bearer ${i.accessToken}`}});console.log(m.data.data);const{festivalList:$,locationList:T,recentList:L,recommendList:R}=m.data.data;l($),f(T),h(L),o(R)}catch(m){console.log(m)}};r.useEffect(()=>{t()},[]);const d=()=>{window.scrollY>140?x(!0):x(!1)};window.addEventListener("scroll",d);const[i,k]=C(P),v=p();r.useEffect(()=>{},[i]);const S=()=>{v("/search/contents")};return e.jsxs("div",{children:[e.jsx(U,{isOpen:j,onClose:()=>c(!1)}),e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full duration-300 ${n?"fixed top-0 ":"relative"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{v("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(O,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(z,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>c(!0)})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(_,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(F,{className:"text-slate-400 text-2xl"}),onClick:()=>S()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(M,{festivities:a})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(D,{locations:s})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(G,{recent:w,getMainList:t,setFestivities:l,setLocations:f,setRecent:h,setRecommend:o})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(W,{recommend:u})})]}),e.jsx(V,{})]})};export{ge as default};
